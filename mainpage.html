<html>

<head>
    <link rel="stylesheet" href="dasboard.css">
    <script src="actions.js" type="text/javascript">

    </script>
    <!-- //onload displaying userName -->
    <script>
        window.onload = async () => {
            uid = window.location.search.split('=')
            console.log("uid got ", uid[1])
            if (uid[1] !== (null || undefined)) {
                console.log("if part executed")
                console.log("window.location.search[]", uid[1])
                document.getElementById("userName").innerText = "welcome "
                await localStorage.setItem('uid', uid[1])
                console.log("after setting uid", localStorage.getItem('uid'))
                //for fetching user data and display
                loadUserData(uid[1])

            }
            //    when loaded from javscript cannot access uid from url ,
            // so retrieving stored uid that came from url
            else {
                const uid = localStorage.getItem('uid')
                loadUserData(uid)
                console.log("now else part is excecuted", uid)
                document.getElementById("userName").innerText = "welcome "
            }
        }

    </script>
</head>

<body>
    <h2 align="center" id="heading">employess cornor</h2>
    <div id="userName">
    </div>
    <div id="ListDiv">
        <!-- name related div -->
        <div class="box">
            <div class="items" id="name">
                update your name
            </div>
            <!-- <a href="update.html?column=name"> -->
            <div class="forChange" onclick="window.location='update.html?column=name'">
                change
            </div>
            <!-- </a> -->
            <div class="items" id="NameRelatedDiv">
                <img src="\images\delete.png" width="50px" height="50px" onclick="deleteUserData({column:'name'})">
                <!-- <figcaption>Delete</figcaption>  -->
            </div>
        </div>
        <!-- age related box -->
        <div class="box">
            <div class="items" id="age">
                update your age
            </div>
            <!-- <a href="update.html?column=age"> -->
            <div class="forChange" onclick="window.location='update.html?column=age'">
                change
            </div>
            <!-- </a> -->
            <div class="items" id="AgeRelatedDiv">
                <img src="\images\delete.png" width="50px" height="50px" onclick="deleteUserData({column:'age'})">
                <!-- <figcaption>Delete</figcaption>  -->
            </div>
        </div>

        <!-- title related -->
        <div class="box">

            <div class="items" id="title">
                update your title
            </div>
            <!-- <a href="update.html?column=title"> -->
            <div class="forChange" onclick="window.location='update.html?column=title'">
                change
            </div>
            <!-- </a> -->
            <div class="items" id="TitleRelatedDiv">
                <img src="\images\delete.png" width="50px" height="50px" onclick="deleteUserData({column:'title'})">
                <!-- <figcaption>Delete</figcaption>  -->
            </div>
        </div>

    </div>
</body>

</html>